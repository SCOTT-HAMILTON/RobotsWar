double speedx = 100
double speedy = 100
double offx = speedx
double offy = 0
double change_dir = 1
double counter = 0
double id = -1
double angle = 60
double starttime = 0;
double last_time_launch = time-10000;
print("time start : "+time);
loop:
	double elapsed_time_last_launch = time-last_time_launch
	if (elapsed_time_last_launch > 11000):
		id = shootguidedmissile();
		print("id start : "+id);
		turngmissileto(id, 60);
		starttime = time
		last_time_launch = time
	end 
	if (counter<300):
		counter = counter+1
	end
	if (id>=0 and time-starttime<9000):
		turngmissileto(id, angle);
		angle = angle+dt*1000
	end
	

	double prec_x = posx
	double prec_y = posy
	
	if (offx < 0 and posx <= 0 ):
		offx = speedx
	else if (offy < 0 and posy <= 0 ):
		offy = speedy
	else if (offx > 0 and posx >= 18*16-16):
		offx = -speedx
	else if (offy > 0 and posy >= 18*16-16):
		offy = -speedy
	end
	
	move(offx*dt, offy*dt);
		
	if ( prec_x == posx and prec_y == posy ):
		if (blockright == 0):
			offx = speedx
			offy = 0
		else if (blockdown == 0):
			offx = 0
			offy = speedy
		else if (blockup == 0):
			offx = 0
			offy = -speedy
		else if (blockleft == 0):
			offx = -speedx
			offy = 0
		end 
	end
end